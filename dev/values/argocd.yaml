redis-ha:
  enabled: true

controller:
  enableStatefulSet: true

server:
  # -- The number of server pods to run
  replicas: 2

  env:
  - name: ARGOCD_API_SERVER_REPLICAS
    value: '2'

  ingress:
    # -- Enable an ingress resource for the Argo CD server
    enabled: true

    # -- Additional ingress annotations
    annotations:
      traefik.ingress.kubernetes.io/router.entrypoints: websecure

    # -- Defines which ingress controller will implement the resource
    ingressClassName: "traefik"

    # -- List of ingress hosts
    ## Argo Ingress.
    ## Hostnames must be provided if Ingress is enabled.
    ## Secrets must be manually created in the namespace
    hosts:
    - argocd.davidcharbonnier.fr

    # -- List of ingress paths
    paths:
      - /
    # -- Ingress path type. One of `Exact`, `Prefix` or `ImplementationSpecific`
    pathType: Prefix
    # -- Additional ingress paths

    # -- Ingress TLS configuration
    tls:
      []
      # - secretName: argocd-tls-certificate
      #   hosts:
      #     - argocd.example.com
    
    # -- Uses `server.service.servicePortHttps` instead `server.service.servicePortHttp`
    https: true

  ## Server service configuration
  service:
    # -- Server service http port
    servicePortHttp: 8080
    # -- Server service https port
    servicePortHttps: 8443

repoServer:
  replicas: 2